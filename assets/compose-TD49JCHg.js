import{p as U,v as ft,F as H,_ as X,u as Te,$ as vt,q as pe,a as t,m as re,G as bt,o as xt,n as yt,b as kt,r as et,M as wt,g as Se,x as tt}from"./vendor-UHlrCOyr.js";import{p as Et,J as Ft,k as He,u as Ct,d as At,o as zt,I as K,m as Ne,c as nt,K as Lt,M as Ae,s as ve,G as It,i as Bt,a as _t}from"./status-qtT5FsXY.js";import{s as ce,a as it,e as Mt,z as $t,c as ue,f as jt,b as Dt,L as Le,p as Rt}from"./useTitle-qGmHrLvi.js";class Pt{constructor(e,a,{tabInsertsSuggestions:s,defaultFirstOption:o}={}){this.input=e,this.list=a,this.tabInsertsSuggestions=s??!0,this.defaultFirstOption=o??!1,this.isComposing=!1,a.id||(a.id=`combobox-${Math.random().toString().slice(2,6)}`),this.ctrlBindings=!!navigator.userAgent.match(/Macintosh/),this.keyboardEventHandler=c=>Tt(c,this),this.compositionEventHandler=c=>Ht(c,this),this.inputHandler=this.clearSelection.bind(this),e.setAttribute("role","combobox"),e.setAttribute("aria-controls",a.id),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-autocomplete","list"),e.setAttribute("aria-haspopup","listbox")}destroy(){this.clearSelection(),this.stop(),this.input.removeAttribute("role"),this.input.removeAttribute("aria-controls"),this.input.removeAttribute("aria-expanded"),this.input.removeAttribute("aria-autocomplete"),this.input.removeAttribute("aria-haspopup")}start(){this.input.setAttribute("aria-expanded","true"),this.input.addEventListener("compositionstart",this.compositionEventHandler),this.input.addEventListener("compositionend",this.compositionEventHandler),this.input.addEventListener("input",this.inputHandler),this.input.addEventListener("keydown",this.keyboardEventHandler),this.list.addEventListener("click",Oe),this.indicateDefaultOption()}stop(){this.clearSelection(),this.input.setAttribute("aria-expanded","false"),this.input.removeEventListener("compositionstart",this.compositionEventHandler),this.input.removeEventListener("compositionend",this.compositionEventHandler),this.input.removeEventListener("input",this.inputHandler),this.input.removeEventListener("keydown",this.keyboardEventHandler),this.list.removeEventListener("click",Oe)}indicateDefaultOption(){var e;this.defaultFirstOption&&((e=Array.from(this.list.querySelectorAll('[role="option"]:not([aria-disabled="true"])')).filter(Fe)[0])===null||e===void 0||e.setAttribute("data-combobox-option-default","true"))}navigate(e=1){const a=Array.from(this.list.querySelectorAll('[aria-selected="true"]')).filter(Fe)[0],s=Array.from(this.list.querySelectorAll('[role="option"]')).filter(Fe),o=s.indexOf(a);if(o===s.length-1&&e===1||o===0&&e===-1){this.clearSelection(),this.input.focus();return}let c=e===1?0:s.length-1;if(a&&o>=0){const h=o+e;h>=0&&h<s.length&&(c=h)}const p=s[c];if(p)for(const h of s)h.removeAttribute("data-combobox-option-default"),p===h?(this.input.setAttribute("aria-activedescendant",p.id),p.setAttribute("aria-selected","true"),Nt(this.list,p)):h.removeAttribute("aria-selected")}clearSelection(){this.input.removeAttribute("aria-activedescendant");for(const e of this.list.querySelectorAll('[aria-selected="true"]'))e.removeAttribute("aria-selected");this.indicateDefaultOption()}}function Tt(n,e){if(!(n.shiftKey||n.metaKey||n.altKey)&&!(!e.ctrlBindings&&n.ctrlKey)&&!e.isComposing)switch(n.key){case"Enter":Ke(e.input,e.list)&&n.preventDefault();break;case"Tab":e.tabInsertsSuggestions&&Ke(e.input,e.list)&&n.preventDefault();break;case"Escape":e.clearSelection();break;case"ArrowDown":e.navigate(1),n.preventDefault();break;case"ArrowUp":e.navigate(-1),n.preventDefault();break;case"n":e.ctrlBindings&&n.ctrlKey&&(e.navigate(1),n.preventDefault());break;case"p":e.ctrlBindings&&n.ctrlKey&&(e.navigate(-1),n.preventDefault());break;default:if(n.ctrlKey)break;e.clearSelection()}}function Oe(n){if(!(n.target instanceof Element))return;const e=n.target.closest('[role="option"]');e&&e.getAttribute("aria-disabled")!=="true"&&St(e)}function Ke(n,e){const a=e.querySelector('[aria-selected="true"], [data-combobox-option-default="true"]');return a?(a.getAttribute("aria-disabled")==="true"||a.click(),!0):!1}function St(n){n.dispatchEvent(new CustomEvent("combobox-commit",{bubbles:!0}))}function Fe(n){return!n.hidden&&!(n instanceof HTMLInputElement&&n.type==="hidden")&&(n.offsetWidth>0||n.offsetHeight>0)}function Ht(n,e){e.isComposing=n.type==="compositionstart",document.getElementById(e.input.getAttribute("aria-controls")||"")&&e.clearSelection()}function Nt(n,e){Ot(n,e)||(n.scrollTop=e.offsetTop)}function Ot(n,e){const a=n.scrollTop,s=a+n.clientHeight,o=e.offsetTop,c=o+e.clientHeight;return o>=a&&c<=s}const Kt=/\s|\(|\[/;function Ut(n,e,a,{multiWord:s,lookBackIndex:o,lastMatchPosition:c}={multiWord:!1,lookBackIndex:0,lastMatchPosition:null}){let p=n.lastIndexOf(e,a-1);if(p===-1||p<o)return;if(s){if(c!=null){if(c===p)return;p=c-e.length}if(n[p+1]===" "&&a>=p+e.length+1||n.lastIndexOf(`
`,a-1)>p||n.lastIndexOf(".",a-1)>p)return}else if(n.lastIndexOf(" ",a-1)>p)return;const h=n[p-1];return h&&!Kt.test(h)?void 0:{text:n.substring(p+e.length,a),position:p+e.length}}const qt=["position:absolute;","overflow:auto;","word-wrap:break-word;","top:0px;","left:-9999px;"],Ue=["box-sizing","font-family","font-size","font-style","font-variant","font-weight","height","letter-spacing","line-height","max-height","min-height","padding-bottom","padding-left","padding-right","padding-top","border-bottom","border-left","border-right","border-top","text-decoration","text-indent","text-transform","width","word-spacing"],qe=new WeakMap;function Wt(n,e){const a=n.nodeName.toLowerCase();if(a!=="textarea"&&a!=="input")throw new Error("expected textField to a textarea or input");let s=qe.get(n);if(s&&s.parentElement===n.parentElement)s.innerHTML="";else{s=document.createElement("div"),qe.set(n,s);const h=window.getComputedStyle(n),f=qt.slice(0);a==="textarea"?f.push("white-space:pre-wrap;"):f.push("white-space:nowrap;");for(let C=0,w=Ue.length;C<w;C++){const A=Ue[C];f.push(`${A}:${h.getPropertyValue(A)};`)}s.style.cssText=f.join(" ")}const o=document.createElement("span");o.style.cssText="position: absolute;",o.innerHTML="&nbsp;";let c,p;if(typeof e=="number"){let h=n.value.substring(0,e);h&&(c=document.createTextNode(h)),h=n.value.substring(e),h&&(p=document.createTextNode(h))}else{const h=n.value;h&&(c=document.createTextNode(h))}if(c&&s.appendChild(c),s.appendChild(o),p&&s.appendChild(p),!s.parentElement){if(!n.parentElement)throw new Error("textField must have a parentElement to mirror");n.parentElement.insertBefore(s,n)}return s.scrollTop=n.scrollTop,s.scrollLeft=n.scrollLeft,{mirror:s,marker:o}}function Gt(n,e=n.selectionEnd){const{mirror:a,marker:s}=Wt(n,e),o=a.getBoundingClientRect(),c=s.getBoundingClientRect();return setTimeout(()=>{a.remove()},5e3),{top:c.top-o.top,left:c.left-o.left}}const fe=new WeakMap;function Vt(n){try{if(n.matches(":popover-open"))return!0}catch{}try{if(n.matches("dialog:modal"))return!0}catch{}try{if(n.matches(":fullscreen"))return!0}catch{}return!1}class Yt{constructor(e,a){this.expander=e,this.input=a,this.combobox=null,this.menu=null,this.match=null,this.justPasted=!1,this.lookBackIndex=0,this.oninput=this.onInput.bind(this),this.onpaste=this.onPaste.bind(this),this.onkeydown=this.onKeydown.bind(this),this.oncommit=this.onCommit.bind(this),this.onmousedown=this.onMousedown.bind(this),this.onblur=this.onBlur.bind(this),this.interactingWithList=!1,a.addEventListener("paste",this.onpaste),a.addEventListener("input",this.oninput),a.addEventListener("keydown",this.onkeydown),a.addEventListener("blur",this.onblur)}destroy(){this.input.removeEventListener("paste",this.onpaste),this.input.removeEventListener("input",this.oninput),this.input.removeEventListener("keydown",this.onkeydown),this.input.removeEventListener("blur",this.onblur)}dismissMenu(){this.deactivate()&&(this.lookBackIndex=this.input.selectionEnd||this.lookBackIndex)}activate(e,a){var s,o;if(this.input!==document.activeElement&&this.input!==((o=(s=document.activeElement)===null||s===void 0?void 0:s.shadowRoot)===null||o===void 0?void 0:o.activeElement))return;this.deactivate(),this.menu=a,a.id||(a.id=`text-expander-${Math.floor(Math.random()*1e5).toString()}`),this.expander.append(a),this.combobox=new Pt(this.input,a),this.expander.dispatchEvent(new Event("text-expander-activate"));let{top:c,left:p}=Gt(this.input,e.position);if(Vt(a)){const h=this.input.getBoundingClientRect();c+=h.top,p+=h.left,getComputedStyle(a).position==="absolute"&&(c+=window.scrollY,p+=window.scrollX)}a.style.top=`${c}px`,a.style.left=`${p}px`,this.combobox.start(),a.addEventListener("combobox-commit",this.oncommit),a.addEventListener("mousedown",this.onmousedown),this.combobox.navigate(1)}deactivate(){const e=this.menu;return!e||!this.combobox?!1:(this.expander.dispatchEvent(new Event("text-expander-deactivate")),this.menu=null,e.removeEventListener("combobox-commit",this.oncommit),e.removeEventListener("mousedown",this.onmousedown),this.combobox.destroy(),this.combobox=null,e.remove(),!0)}onCommit({target:e}){var a;const s=e;if(!(s instanceof HTMLElement)||!this.combobox)return;const o=this.match;if(!o)return;const c=this.input.value.substring(0,o.position-o.key.length),p=this.input.value.substring(o.position+o.text.length),h={item:s,key:o.key,value:null,continue:!1};if(!this.expander.dispatchEvent(new CustomEvent("text-expander-value",{cancelable:!0,detail:h}))||!h.value)return;let C=(a=this.expander.getAttribute("suffix"))!==null&&a!==void 0?a:" ";h.continue&&(C="");const w=`${h.value}${C}`;this.input.value=c+w+p;const A=c.length+w.length;this.deactivate(),this.input.focus({preventScroll:!0}),this.input.selectionStart=A,this.input.selectionEnd=A,h.continue||(this.lookBackIndex=A,this.match=null),this.expander.dispatchEvent(new CustomEvent("text-expander-committed",{cancelable:!1,detail:{input:this.input}}))}onBlur(){if(this.interactingWithList){this.interactingWithList=!1;return}this.deactivate()}onPaste(){this.justPasted=!0}async onInput(){if(this.justPasted){this.justPasted=!1;return}const e=this.findMatch();if(e){this.match=e;const a=await this.notifyProviders(e);if(!this.match)return;a?this.activate(e,a):this.deactivate()}else this.match=null,this.deactivate()}findMatch(){const e=this.input.selectionEnd||0,a=this.input.value;e<=this.lookBackIndex&&(this.lookBackIndex=e-1);for(const{key:s,multiWord:o}of this.expander.keys){const c=Ut(a,s,e,{multiWord:o,lookBackIndex:this.lookBackIndex,lastMatchPosition:this.match?this.match.position:null});if(c)return{text:c.text,key:s,position:c.position}}}async notifyProviders(e){const a=[],s=h=>a.push(h);return this.expander.dispatchEvent(new CustomEvent("text-expander-change",{cancelable:!0,detail:{provide:s,text:e.text,key:e.key}}))?(await Promise.all(a)).filter(h=>h.matched).map(h=>h.fragment)[0]:void 0}onMousedown(){this.interactingWithList=!0}onKeydown(e){e.key==="Escape"&&(this.match=null,this.deactivate()&&(this.lookBackIndex=this.input.selectionEnd||this.lookBackIndex,e.stopImmediatePropagation(),e.preventDefault()))}}class We extends HTMLElement{get keys(){const e=this.getAttribute("keys"),a=e?e.split(" "):[],s=this.getAttribute("multiword"),o=s?s.split(" "):[],c=o.length===0&&this.hasAttribute("multiword");return a.map(p=>({key:p,multiWord:c||o.includes(p)}))}connectedCallback(){const e=this.querySelector('input[type="text"], textarea');if(!(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement))return;const a=new Yt(this,e);fe.set(this,a)}disconnectedCallback(){const e=fe.get(this);e&&(e.destroy(),fe.delete(this))}dismiss(){const e=fe.get(this);e&&e.dismissMenu()}}window.customElements.get("text-expander")||(window.TextExpanderElement=We,window.customElements.define("text-expander",We));function Zt({onlyFirst:n=!1}={}){const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,n?void 0:"g")}const Jt=Zt();function Xt(n){if(typeof n!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof n}\``);return n.replace(Jt,"")}const Qt=new Intl.Segmenter;function Ge(n,{countAnsiEscapeCodes:e=!1}={}){if(n===""||(e||(n=Xt(n)),n===""))return 0;let a=0;for(const s of Qt.segment(n))a++;return a}const en="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20version='1.0'%20viewBox='0%200%20641%20223'%3e%3cpath%20fill='%23aaa'%20d='M86%20214c-9-1-17-4-24-8l-6-3-5-5-5-4-4-6-4-6-3-8-2-8v-27l2-9%203-9%204-6%204-6%205-5%205-5%207-3%206-4%207-2%207-2%2012-1h12l7%201%208%202%207%204%207%203%205%205%205%204-10%2010-10%209-4-3-10-5-5-1H88l-5%202-6%203-3%204-4%204-2%205-2%206v6l-1%207%201%207%202%207%203%205%202%204%204%203%204%203%205%202%206%202h9l10-1%205-2%206-3v-16H91v-27h59v54l-1%203-2%203-5%204-4%204-5%203-5%202-8%202-8%202-10%201H92l-6-1zm266-62V91h34v46h44V91h34v121h-34v-46h-44v46h-34v-61zm-182-1V90h34v121h-34v-60zm59-1V90h35l36%201%205%202c3%200%208%202%2010%204l5%202%204%205%205%204%203%207%203%207%201%2013v13l-4%206-3%207-4%204-5%205-5%202-5%203-6%202-5%201-18%201h-18v32h-34v-61zm67-2%203-2%202-4%202-5v-5l-2-4-2-4-3-2-3-3h-30v31h30l3-2zm226%2039v-24l-8-12-18-28a1751%201751%200%200%200-20-31v-2h39l7%2012%2012%2021%206%209%2013-21%2013-21h38v2l-41%2061-7%2010v48h-34v-24zM109%2066l-4-1-5-5-5-4-1-5-3-9v-5l1-5c2-7%203-10%208-15l4-4%207-2%207-2h7l6%201%205%202%205%202%203%204%204%203%202%206%202%205v13l-2%205-2%206-4%204-3%203-5%202-4%202-9%201h-9l-5-2zm22-11%204-2%203-4%202-5V34l-2-4-2-4-3-2-4-3-5-1h-6l-4%202-5%202-2%204-3%205-1%203v4l1%205%202%205%202%202%205%203%204%202h10l4-2zM37%2039V11h33l3%201%203%202%204%203%203%203%201%205%201%204v5l-1%204-3%204-3%205-4%201-3%202-11%201H49v16H37V39zm31%200%203-2%201-2%201-2v-4l-1-3-3-2-2-2H49v18h15l4-1zm107%2025a512%20512%200%200%200-19-53h14l4%2014%206%2019%201%204%201-1%207-19%205-17h9l6%2019%207%2018v-1l2-6%205-17%204-13h14v1l-4%2012-16%2041v2h-5l-5-1-6-15-6-15-1%201-3%207-6%2015-2%208h-11l-1-3zm74-25V11h42v11h-29v2l-1%205v4h29v11h-28v11h2l15%201h13v11h-43V39zm55%200V11h33l5%203%205%202%202%204%202%205v10l-2%203-1%204-5%203-5%203%205%205%208%2010%203%204h-14l-7-9-8-10h-9v19h-12V39zm33-3%202-3v-6l-3-3-2-3h-18v16h1v1h17l2-2zm26%203V11h42v11h-29l-1%206v5h29v11h-28v5l-1%205%201%201v1h30v11h-43V39zm54%200V11h17l18%201%204%202%205%203%202%204%203%204%202%206%201%206v5c-1%206-3%2012-6%2015l-3%204-5%203-5%202-17%201h-16V39zm33%2014%205-5%202-3v-6l-1-6-1-3-1-3-4-3-3-2h-5l-6-1-3%201h-3v34h9l8-1%203-2zm50-14V11h34l5%202%204%202%202%203%202%203v9l-2%202-3%204-1%201%203%203%203%204%201%203%201%204-1%204-1%204-3%203-3%203-5%201-5%201h-31V39zm34%2015%202-1v-6l-2-2-2-2h-20v13h20l2-2zm-3-22%204-2v-6l-2-1-2-2h-19v12h16l4-1zm42%2024V45l-6-9-11-17-5-8h15l4%208%207%2011%202%203%207-11%207-11h14l-11%2016-11%2017v23h-12V56z'/%3e%3c/svg%3e",Ie=[["aa","Afar","Afaraf"],["ab","Abkhaz","аҧсуа бызшәа"],["ae","Avestan","avesta"],["af","Afrikaans","Afrikaans"],["ak","Akan","Akan"],["am","Amharic","አማርኛ"],["an","Aragonese","aragonés"],["ar","Arabic","اللغة العربية"],["as","Assamese","অসমীয়া"],["av","Avaric","авар мацӀ"],["ay","Aymara","aymar aru"],["az","Azerbaijani","azərbaycan dili"],["ba","Bashkir","башҡорт теле"],["be","Belarusian","беларуская мова"],["bg","Bulgarian","български език"],["bh","Bihari","भोजपुरी"],["bi","Bislama","Bislama"],["bm","Bambara","bamanankan"],["bn","Bengali","বাংলা"],["bo","Tibetan","བོད་ཡིག"],["br","Breton","brezhoneg"],["bs","Bosnian","bosanski jezik"],["ca","Catalan","Català"],["ce","Chechen","нохчийн мотт"],["ch","Chamorro","Chamoru"],["co","Corsican","corsu"],["cr","Cree","ᓀᐦᐃᔭᐍᐏᐣ"],["cs","Czech","čeština"],["cu","Old Church Slavonic","ѩзыкъ словѣньскъ"],["cv","Chuvash","чӑваш чӗлхи"],["cy","Welsh","Cymraeg"],["da","Danish","dansk"],["de","German","Deutsch"],["dv","Divehi","Dhivehi"],["dz","Dzongkha","རྫོང་ཁ"],["ee","Ewe","Eʋegbe"],["el","Greek","Ελληνικά"],["en","English","English"],["eo","Esperanto","Esperanto"],["es","Spanish","Español"],["et","Estonian","eesti"],["eu","Basque","euskara"],["fa","Persian","فارسی"],["ff","Fula","Fulfulde"],["fi","Finnish","suomi"],["fj","Fijian","Vakaviti"],["fo","Faroese","føroyskt"],["fr","French","Français"],["fy","Western Frisian","Frysk"],["ga","Irish","Gaeilge"],["gd","Scottish Gaelic","Gàidhlig"],["gl","Galician","galego"],["gu","Gujarati","ગુજરાતી"],["gv","Manx","Gaelg"],["ha","Hausa","هَوُسَ"],["he","Hebrew","עברית"],["hi","Hindi","हिन्दी"],["ho","Hiri Motu","Hiri Motu"],["hr","Croatian","Hrvatski"],["ht","Haitian","Kreyòl ayisyen"],["hu","Hungarian","magyar"],["hy","Armenian","Հայերեն"],["hz","Herero","Otjiherero"],["ia","Interlingua","Interlingua"],["id","Indonesian","Bahasa Indonesia"],["ie","Interlingue","Interlingue"],["ig","Igbo","Asụsụ Igbo"],["ii","Nuosu","ꆈꌠ꒿ Nuosuhxop"],["ik","Inupiaq","Iñupiaq"],["io","Ido","Ido"],["is","Icelandic","Íslenska"],["it","Italian","Italiano"],["iu","Inuktitut","ᐃᓄᒃᑎᑐᑦ"],["ja","Japanese","日本語"],["jv","Javanese","basa Jawa"],["ka","Georgian","ქართული"],["kg","Kongo","Kikongo"],["ki","Kikuyu","Gĩkũyũ"],["kj","Kwanyama","Kuanyama"],["kk","Kazakh","қазақ тілі"],["kl","Kalaallisut","kalaallisut"],["km","Khmer","ខេមរភាសា"],["kn","Kannada","ಕನ್ನಡ"],["ko","Korean","한국어"],["kr","Kanuri","Kanuri"],["ks","Kashmiri","कश्मीरी"],["ku","Kurmanji (Kurdish)","Kurmancî"],["kv","Komi","коми кыв"],["kw","Cornish","Kernewek"],["ky","Kyrgyz","Кыргызча"],["la","Latin","latine"],["lb","Luxembourgish","Lëtzebuergesch"],["lg","Ganda","Luganda"],["li","Limburgish","Limburgs"],["ln","Lingala","Lingála"],["lo","Lao","ລາວ"],["lt","Lithuanian","lietuvių kalba"],["lu","Luba-Katanga","Tshiluba"],["lv","Latvian","latviešu valoda"],["mg","Malagasy","fiteny malagasy"],["mh","Marshallese","Kajin M̧ajeļ"],["mi","Māori","te reo Māori"],["mk","Macedonian","македонски јазик"],["ml","Malayalam","മലയാളം"],["mn","Mongolian","Монгол хэл"],["mr","Marathi","मराठी"],["ms","Malay","Bahasa Melayu"],["mt","Maltese","Malti"],["my","Burmese","ဗမာစာ"],["na","Nauru","Ekakairũ Naoero"],["nb","Norwegian Bokmål","Norsk bokmål"],["nd","Northern Ndebele","isiNdebele"],["ne","Nepali","नेपाली"],["ng","Ndonga","Owambo"],["nl","Dutch","Nederlands"],["nn","Norwegian Nynorsk","Norsk Nynorsk"],["no","Norwegian","Norsk"],["nr","Southern Ndebele","isiNdebele"],["nv","Navajo","Diné bizaad"],["ny","Chichewa","chiCheŵa"],["oc","Occitan","occitan"],["oj","Ojibwe","ᐊᓂᔑᓈᐯᒧᐎᓐ"],["om","Oromo","Afaan Oromoo"],["or","Oriya","ଓଡ଼ିଆ"],["os","Ossetian","ирон æвзаг"],["pa","Panjabi","ਪੰਜਾਬੀ"],["pi","Pāli","पाऴि"],["pl","Polish","Polski"],["ps","Pashto","پښتو"],["pt","Portuguese","Português"],["qu","Quechua","Runa Simi"],["rm","Romansh","rumantsch grischun"],["rn","Kirundi","Ikirundi"],["ro","Romanian","Română"],["ru","Russian","Русский"],["rw","Kinyarwanda","Ikinyarwanda"],["sa","Sanskrit","संस्कृतम्"],["sc","Sardinian","sardu"],["sd","Sindhi","सिन्धी"],["se","Northern Sami","Davvisámegiella"],["sg","Sango","yângâ tî sängö"],["si","Sinhala","සිංහල"],["sk","Slovak","slovenčina"],["sl","Slovenian","slovenščina"],["sn","Shona","chiShona"],["so","Somali","Soomaaliga"],["sq","Albanian","Shqip"],["sr","Serbian","српски језик"],["ss","Swati","SiSwati"],["st","Southern Sotho","Sesotho"],["su","Sundanese","Basa Sunda"],["sv","Swedish","Svenska"],["sw","Swahili","Kiswahili"],["ta","Tamil","தமிழ்"],["te","Telugu","తెలుగు"],["tg","Tajik","тоҷикӣ"],["th","Thai","ไทย"],["ti","Tigrinya","ትግርኛ"],["tk","Turkmen","Türkmen"],["tl","Tagalog","Wikang Tagalog"],["tn","Tswana","Setswana"],["to","Tonga","faka Tonga"],["tr","Turkish","Türkçe"],["ts","Tsonga","Xitsonga"],["tt","Tatar","татар теле"],["tw","Twi","Twi"],["ty","Tahitian","Reo Tahiti"],["ug","Uyghur","ئۇيغۇرچە‎"],["uk","Ukrainian","Українська"],["ur","Urdu","اردو"],["uz","Uzbek","Ўзбек"],["ve","Venda","Tshivenḓa"],["vi","Vietnamese","Tiếng Việt"],["vo","Volapük","Volapük"],["wa","Walloon","walon"],["wo","Wolof","Wollof"],["xh","Xhosa","isiXhosa"],["yi","Yiddish","ייִדיש"],["yo","Yoruba","Yorùbá"],["za","Zhuang","Saɯ cueŋƅ"],["zh","Chinese","中文"],["zu","Zulu","isiZulu"],["zh-CN","Chinese (China)","简体中文"],["zh-HK","Chinese (Hong Kong)","繁體中文（香港）"],["zh-TW","Chinese (Taiwan)","繁體中文（臺灣）"],["zh-YUE","Cantonese","廣東話"],["ast","Asturian","Asturianu"],["chr","Cherokee","ᏣᎳᎩ ᎦᏬᏂᎯᏍᏗ"],["ckb","Sorani (Kurdish)","سۆرانی"],["cnr","Montenegrin","crnogorski"],["jbo","Lojban","la .lojban."],["kab","Kabyle","Taqbaylit"],["ldn","Láadan","Láadan"],["lfn","Lingua Franca Nova","lingua franca nova"],["sco","Scots","Scots"],["sma","Southern Sami","Åarjelsaemien Gïele"],["smj","Lule Sami","Julevsámegiella"],["szl","Silesian","ślůnsko godka"],["tok","Toki Pona","toki pona"],["xal","Kalmyk","Хальмг келн"],["zba","Balaibalan","باليبلن"],["zgh","Standard Moroccan Tamazight","ⵜⴰⵎⴰⵣⵉⵖⵜ"]],tn="(((?:[^A-Za-z0-9@＠$#＃\\uFFFE\\uFEFF\\uFFFF]|[\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069]|^))((https?:\\/\\/)((?:(?:(?:[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/](?:[_-]|[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/])*)?[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/]\\.)*(?:(?:[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/](?:-|[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/])*)?[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/]\\.)(?:(?:(?:삼성|닷컴|닷넷|香格里拉|餐厅|食品|飞利浦|電訊盈科|集团|通販|购物|谷歌|诺基亚|联通|网络|网站|网店|网址|组织机构|移动|珠宝|点看|游戏|淡马锡|机构|書籍|时尚|新闻|政府|政务|招聘|手表|手机|我爱你|慈善|微博|广东|工行|家電|娱乐|天主教|大拿|大众汽车|在线|嘉里大酒店|嘉里|商标|商店|商城|公益|公司|八卦|健康|信息|佛山|企业|中文网|中信|世界|ポイント|ファッション|セール|ストア|コム|グーグル|クラウド|みんな|คอม|संगठन|नेट|कॉम|همراه|موقع|موبايلي|كوم|كاثوليك|عرب|شبكة|بيتك|بازار|العليان|ارامكو|اتصالات|ابوظبي|קום|сайт|рус|орг|онлайн|москва|ком|католик|дети|zuerich|zone|zippo|zip|zero|zara|zappos|yun|youtube|you|yokohama|yoga|yodobashi|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|wow|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|walmart|wales|vuelos|voyage|voto|voting|vote|volvo|volkswagen|vodka|vlaanderen|vivo|viva|vistaprint|vista|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vet|versicherung|vermögensberatung|vermögensberater|verisign|ventures|vegas|vanguard|vana|vacations|ups|uol|uno|university|unicom|uconnect|ubs|ubank|tvs|tushu|tunes|tui|tube|trv|trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|tmall|tkmaxx|tjx|tjmaxx|tirol|tires|tips|tiffany|tienda|tickets|tiaa|theatre|theater|thd|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|tci|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|systems|symantec|sydney|swiss|swiftcover|swatch|suzuki|surgery|surf|support|supply|supplies|sucks|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|staples|stada|srt|srl|spreadbetting|spot|sport|spiegel|space|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|sncf|smile|smart|sling|skype|sky|skin|ski|site|singles|sina|silk|shriram|showtime|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sfr|sexy|sex|sew|seven|ses|services|sener|select|seek|security|secure|seat|search|scot|scor|scjohnson|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sbs|sbi|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|saarland|ryukyu|rwe|run|ruhr|rugby|rsvp|room|rogers|rodeo|rocks|rocher|rmit|rip|rio|ril|rightathome|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|raid|radio|racing|qvc|quest|quebec|qpon|pwc|pub|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|post|porn|politie|poker|pohl|pnc|plus|plumbing|playstation|play|place|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|phone|philips|phd|pharmacy|pfizer|pet|pccw|pay|passagens|party|parts|partners|pars|paris|panerai|panasonic|pamperedchef|page|ovh|ott|otsuka|osaka|origins|orientexpress|organic|org|orange|oracle|open|ooo|onyourside|online|onl|ong|one|omega|ollo|oldnavy|olayangroup|olayan|okinawa|office|off|observer|obi|nyc|ntt|nrw|nra|nowtv|nowruz|now|norton|northwesternmutual|nokia|nissay|nissan|ninja|nikon|nike|nico|nhk|ngo|nfl|nexus|nextdirect|next|news|newholland|new|neustar|network|netflix|netbank|net|nec|nba|navy|natura|nationwide|name|nagoya|nadex|nab|mutuelle|mutual|museum|mtr|mtpc|mtn|msd|movistar|movie|mov|motorcycles|moto|moscow|mortgage|mormon|mopar|montblanc|monster|money|monash|mom|moi|moe|moda|mobily|mobile|mobi|mma|mls|mlb|mitsubishi|mit|mint|mini|mil|microsoft|miami|metlife|merckmsd|meo|menu|men|memorial|meme|melbourne|meet|media|med|mckinsey|mcdonalds|mcd|mba|mattel|maserati|marshalls|marriott|markets|marketing|market|map|mango|management|man|makeup|maison|maif|madrid|macys|luxury|luxe|lupin|lundbeck|ltda|ltd|lplfinancial|lpl|love|lotto|lotte|london|lol|loft|locus|locker|loans|loan|llp|llc|lixil|living|live|lipsy|link|linde|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancome|lancia|lancaster|lamer|lamborghini|ladbrokes|lacaixa|kyoto|kuokgroup|kred|krd|kpn|kpmg|kosher|komatsu|koeln|kiwi|kitchen|kindle|kinder|kim|kia|kfh|kerryproperties|kerrylogistics|kerryhotels|kddi|kaufen|juniper|juegos|jprs|jpmorgan|joy|jot|joburg|jobs|jnj|jmp|jll|jlc|jio|jewelry|jetzt|jeep|jcp|jcb|java|jaguar|iwc|iveco|itv|itau|istanbul|ist|ismaili|iselect|irish|ipiranga|investments|intuit|international|intel|int|insure|insurance|institute|ink|ing|info|infiniti|industries|inc|immobilien|immo|imdb|imamat|ikano|iinet|ifm|ieee|icu|ice|icbc|ibm|hyundai|hyatt|hughes|htc|hsbc|how|house|hotmail|hotels|hoteles|hot|hosting|host|hospital|horse|honeywell|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hkt|hiv|hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|hair|guru|guitars|guide|guge|gucci|guardian|group|grocery|gripe|green|gratis|graphics|grainger|gov|got|gop|google|goog|goodyear|goodhands|goo|golf|goldpoint|gold|godaddy|gmx|gmo|gmbh|gmail|globo|global|gle|glass|glade|giving|gives|gifts|gift|ggee|george|genting|gent|gea|gdn|gbiz|gay|garden|gap|games|game|gallup|gallo|gallery|gal|fyi|futbol|furniture|fund|fun|fujixerox|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|free|fox|foundation|forum|forsale|forex|ford|football|foodnetwork|food|foo|fly|flsmidth|flowers|florist|flir|flights|flickr|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fiat|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|etisalat|esurance|estate|esq|erni|ericsson|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|email|education|edu|edeka|eco|eat|earth|dvr|dvag|durban|dupont|duns|dunlop|duck|dubai|dtv|drive|download|dot|doosan|domains|doha|dog|dodge|doctor|docs|dnp|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|dds|dclk|day|datsun|dating|date|data|dance|dad|dabur|cyou|cymru|cuisinella|csc|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|cpa|courses|coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cityeats|city|citic|citi|citadel|cisco|circle|cipriani|church|chrysler|chrome|christmas|chloe|chintai|cheap|chat|chase|charity|channel|chanel|cfd|cfa|cern|ceo|center|ceb|cbs|cbre|cbn|cba|catholic|catering|cat|casino|cash|caseih|case|casa|cartier|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|cancerresearch|camp|camera|cam|calvinklein|call|cal|cafe|cab|bzh|buzz|buy|business|builders|build|bugatti|budapest|brussels|brother|broker|broadway|bridgestone|bradesco|box|boutique|bot|boston|bostik|bosch|boots|booking|book|boo|bond|bom|bofa|boehringer|boats|bnpparibas|bnl|bmw|bms|blue|bloomberg|blog|blockbuster|blanco|blackfriday|black|biz|bio|bingo|bing|bike|bid|bible|bharti|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|bcn|bcg|bbva|bbt|bbc|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|bananarepublic|banamex|baidu|baby|azure|axa|aws|avianca|autos|auto|author|auspost|audio|audible|audi|auction|attorney|athleta|associates|asia|asda|arte|art|arpa|army|archi|aramco|arab|aquarelle|apple|app|apartments|aol|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|alfaromeo|akdn|airtel|airforce|airbus|aigo|aig|agency|agakhan|africa|afl|afamilycompany|aetna|aero|aeg|adult|ads|adac|actor|active|aco|accountants|accountant|accenture|academy|abudhabi|abogado|able|abc|abbvie|abbott|abb|abarth|aarp|aaa|onion)(?=[^0-9a-zA-Z@+-]|$))|(?:(?:한국|香港|澳門|新加坡|台灣|台湾|中國|中国|გე|ລາວ|ไทย|ලංකා|ഭാരതം|ಭಾರತ|భారత్|சிங்கப்பூர்|இலங்கை|இந்தியா|ଭାରତ|ભારત|ਭਾਰਤ|ভাৰত|ভারত|বাংলা|भारोत|भारतम्|भारत|ڀارت|پاکستان|موريتانيا|مليسيا|مصر|قطر|فلسطين|عمان|عراق|سورية|سودان|تونس|بھارت|بارت|ایران|امارات|المغرب|السعودية|الجزائر|البحرين|الاردن|հայ|қаз|укр|срб|рф|мон|мкд|ею|бел|бг|ευ|ελ|zw|zm|za|yt|ye|ws|wf|vu|vn|vi|vg|ve|vc|va|uz|uy|us|um|uk|ug|ua|tz|tw|tv|tt|tr|tp|to|tn|tm|tl|tk|tj|th|tg|tf|td|tc|sz|sy|sx|sv|su|st|ss|sr|so|sn|sm|sl|sk|sj|si|sh|sg|se|sd|sc|sb|sa|rw|ru|rs|ro|re|qa|py|pw|pt|ps|pr|pn|pm|pl|pk|ph|pg|pf|pe|pa|om|nz|nu|nr|np|no|nl|ni|ng|nf|ne|nc|na|mz|my|mx|mw|mv|mu|mt|ms|mr|mq|mp|mo|mn|mm|ml|mk|mh|mg|mf|me|md|mc|ma|ly|lv|lu|lt|ls|lr|lk|li|lc|lb|la|kz|ky|kw|kr|kp|kn|km|ki|kh|kg|ke|jp|jo|jm|je|it|is|ir|iq|io|in|im|il|ie|id|hu|ht|hr|hn|hm|hk|gy|gw|gu|gt|gs|gr|gq|gp|gn|gm|gl|gi|gh|gg|gf|ge|gd|gb|ga|fr|fo|fm|fk|fj|fi|eu|et|es|er|eh|eg|ee|ec|dz|do|dm|dk|dj|de|cz|cy|cx|cw|cv|cu|cr|co|cn|cm|cl|ck|ci|ch|cg|cf|cd|cc|ca|bz|by|bw|bv|bt|bs|br|bq|bo|bn|bm|bl|bj|bi|bh|bg|bf|be|bd|bb|ba|az|ax|aw|au|at|as|ar|aq|ao|an|am|al|ai|ag|af|ae|ad|ac)(?=[^0-9a-zA-Z@+-]|$))|(?:xn--[\\-0-9a-z]+))))(?::([0-9]+))?(\\/(?:(?:[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*(?:\\((?:[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]+|(?:[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*\\([a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]+\\)[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*))\\)[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*)*[\\+\\-a-z\\u0400-\\u04FF0-9=_#\\/\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]|(?:\\((?:[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]+|(?:[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*\\([a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]+\\)[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*))\\)))|(?:@[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]+\\/))*)?(\\?[a-z0-9!?\\*'@\\(\\);:&=\\+\\$\\/%#\\[\\]\\-_\\.,~|]*[a-z0-9\\-_&=#\\/])?))",nn="gi",Ve={source:tn,flags:nn};var an={PHANPY_CLIENT_NAME:"Phanpy",PHANPY_WEBSITE:"https://halo.mookiesplace.com",PHANPY_PRIVACY_POLICY_URL:"https://github.com/cheeaun/phanpy/blob/main/PRIVACY.MD",PHANPY_GIPHY_API_KEY:"udRxrlYtMZ9MrbaB6rNbjzfI9oGRVMnB",VITE_APP_ENV:"production",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{PHANPY_IMG_ALT_API_URL:Ye,PHANPY_GIPHY_API_KEY:sn}=an,on=Ie.reduce((n,e)=>{const[a,s,o]=e;return n[a]={common:s,native:o},n},{}),at={"5 minutes":5*60,"30 minutes":30*60,"1 hour":60*60,"6 hours":6*60*60,"12 hours":12*60*60,"1 day":24*60*60,"3 days":3*24*60*60,"7 days":7*24*60*60},rn=Object.values(at),Ze=24*60*60,Je=n=>{if(!n)return Ze;const e=(new Date(n).getTime()-Date.now())/1e3;return rn.find(a=>a>=e)||Ze},se=document.createElement("ul");se.role="listbox";se.className="text-expander-menu";const ln=16,cn=new IntersectionObserver(n=>{n.forEach(e=>{if(e.isIntersecting){const{left:a,width:s}=e.boundingClientRect,{innerWidth:o}=window;a+s>o&&(se.style.left=o-s-ln+"px")}})});cn.observe(se);const oe=Et([new Intl.DateTimeFormat().resolvedOptions().locale,...navigator.languages],Ie.map(n=>n[0]),"en"),st=new RegExp(Ve.source,Ve.flags),un=/(^|[^\/\w])@(([a-z0-9_]+)@[a-z0-9\.\-]+[a-z0-9]+)/gi,dn="$2xxxxxxxxxxxxxxxxxxxxxxx";function hn(n){return n.replace(st,dn).replace(un,"$1@$3")}const pn=/[a-z0-9_]+([a-z0-9_.-]+[a-z0-9_]+)?/i,mn=new RegExp(`(^|[^=\\/\\w])(@${pn.source}(?:@[\\p{L}\\w.-]+[\\w]+)?)`,"uig"),gn=new RegExp("(^|[^=\\/\\w])(#[a-z0-9_]+([a-z0-9_.]+[a-z0-9_]+)?)(?![\\/\\w])","ig"),fn="[a-zA-Z0-9_]{2,}",vn=new RegExp(`(^|[^=\\/\\w])(:${fn}:)(?=[^A-Za-z0-9_:]|$)`,"g"),bn=new Intl.Segmenter;function xn(n,{maxCharacters:e=1/0}){let a=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");const{composerCharacterCount:s}=ce;if(s>e){let o="",c="";const p=bn.segment(a);for(const{segment:h,index:f}of p)f<e?o+=h:c+=h;return c&&(c='<mark class="compose-highlight-exceeded">'+c+"</mark>"),o+c}return a.replace(st,'$2<mark class="compose-highlight-url">$3</mark>').replace(mn,'$1<mark class="compose-highlight-mention">$2</mark>').replace(gn,'$1<mark class="compose-highlight-hashtag">$2</mark>').replace(vn,'$1<mark class="compose-highlight-emoji-shortcode">$2</mark>')}const yn=new Intl.RelativeTimeFormat,ze=100;function Mn({onClose:n,replyToStatus:e,editStatus:a,draftStatus:s,standalone:o,hasOpener:c}){var Pe;const{masto:p,instance:h}=it(),[f,C]=U("default"),w=H((s==null?void 0:s.uid)||ft()),A=Mt(),F=A.info,j=$t(),{statuses:{maxCharacters:_,maxMediaAttachments:N,charactersReservedPerUrl:z}={},mediaAttachments:{supportedMimeTypes:g=[],imageSizeLimit:l,imageMatrixLimit:b,videoSizeLimit:x,videoMatrixLimit:I,videoFrameRateLimit:y}={},polls:{maxOptions:M,maxCharactersPerOption:R,maxExpiration:q,minExpiration:Q}={}}=j||{},$=H(),D=H(),[S,G]=U("public"),[P,ee]=U(!1),[O,te]=U(ue.session.get("currentLanguage")||oe),Y=H(O),[L,V]=U([]),[W,ne]=U(null),J=ue.account.get("preferences")||{},de=()=>{$.current&&$.current.dispatchEvent(new Event("input"))},le=()=>{setTimeout(()=>{var r,d,m;$.current&&((d=(r=s==null?void 0:s.status)==null?void 0:r.startsWith)!=null&&d.call(r,`
`)&&($.current.selectionStart=0,$.current.selectionEnd=0),(m=$.current)==null||m.focus())},300)};X(()=>{if(e){const{spoilerText:r,visibility:d,language:m,sensitive:u}=e;r&&D.current&&(D.current.value=r);const k=[...new Set([e.account.acct,...e.mentions.map(v=>v.acct)])].filter(v=>v!==F.acct);k.length>0&&($.current.value=`${k.map(v=>`@${v}`).join(" ")} `,de()),le(),G(d==="public"&&J["posting:default:visibility"]?J["posting:default:visibility"]:d),te(m||J.postingDefaultLanguage||oe),ee(u&&!!r)}else if(a){const{visibility:r,language:d,sensitive:m,poll:u,mediaAttachments:B}=a,k=!!(u!=null&&u.options)&&{...u,options:u.options.map(v=>(v==null?void 0:v.title)||v),expiresIn:(u==null?void 0:u.expiresIn)||Je(u.expiresAt)};C("loading"),(async()=>{try{const v=await p.v1.statuses.$select(a.id).source.fetch(),{text:E,spoilerText:T}=v;$.current.value=E,$.current.dataset.source=E,de(),le(),D.current.value=T,G(r),te(d||presf.postingDefaultLanguage||oe),ee(m),k&&ne(k),V(B),C("default")}catch(v){alert((v==null?void 0:v.reason)||v),C("error")}})()}else le(),J["posting:default:visibility"]&&G(J["posting:default:visibility"]),J["posting:default:language"]&&te(J["posting:default:language"]),J["posting:default:sensitive"]&&ee(J["posting:default:sensitive"]);if(s){const{status:r,spoilerText:d,visibility:m,language:u,sensitive:B,poll:k,mediaAttachments:v}=s,E=!!(k!=null&&k.options)&&{...k,options:k.options.map(T=>(T==null?void 0:T.title)||T),expiresIn:(k==null?void 0:k.expiresIn)||Je(k.expiresAt)};$.current.value=r,de(),le(),d&&(D.current.value=d),m&&G(m),te(u||J.postingDefaultLanguage||oe),B!==null&&ee(B),E&&ne(E),v&&V(v)}},[s,a,e]);const Be=H(),_e="You have unsaved changes. Discard this post?",be=()=>{const{value:r,dataset:d}=$.current;if(f==="loading")return!1;const m=L.length>0;if(!r&&!m||L.length>0&&L.every(E=>E.id))return!0;const B=(e==null?void 0:e.account.id)===F.id,k=e&&r.trim()===`@${e.account.acct}`;return!!(!B&&k||r===(d==null?void 0:d.source))},me=()=>be()?!0:confirm(_e);X(()=>{const r=d=>{be()||(d.preventDefault(),d.returnValue=_e)};return window.addEventListener("beforeunload",r,{capture:!0}),()=>window.removeEventListener("beforeunload",r,{capture:!0})},[]);const lt=()=>{const{value:r}=$.current,{value:d}=D.current;return Ge(hn(r))+Ge(d)},xe=()=>{const r=lt();ce.composerCharacterCount=r};X(xe,[]);const Me=window.CloseWatcher,ye=H(!1);Te("esc",()=>{ye.current=!0},{enabled:!Me,enableOnFormTags:!0}),Te("esc",()=>{!o&&ye.current&&me()&&n(),ye.current=!1},{enabled:!Me,enableOnFormTags:!0,keyup:!0,ignoreEventWhen:r=>{const d=document.querySelectorAll("#modal-container > *"),m=!!d,u=d.length===1&&d[0].querySelector("#compose-container");return m&&!u}}),Ft(()=>{!o&&me()&&n()},[o,me,n]);const $e=H({}),je=()=>`${jt()}#${w.current}`,De=()=>{if(a)return;const r=je(),d={key:r,replyTo:e?{id:e.id,account:{id:e.account.id,username:e.account.username,acct:e.account.acct}}:null,draftStatus:{uid:w.current,status:$.current.value,spoilerText:D.current.value,visibility:S,language:O,sensitive:P,poll:W,mediaAttachments:L}};!vt(d,$e.current)&&!be()&&(He.drafts.set(r,{...d,state:"unsaved",updatedAt:Date.now()}).then(()=>{}).catch(m=>{}),$e.current=structuredClone(d))};Ct(De,5e3),X(()=>(De(),()=>{He.drafts.del(je())}),[]),X(()=>{const r=m=>{const{items:u}=m.clipboardData||m.dataTransfer,B=[];for(let k=0;k<u.length;k++){const v=u[k];if(v.kind==="file"){const E=v.getAsFile();E&&g.includes(E.type)&&B.push(E)}}if(B.length>0&&L.length>=N){alert(`You can only attach up to ${N} files.`);return}if(B.length>0){m.preventDefault(),m.stopPropagation();const k=N-L.length,v=B.slice(0,k);if(v.length<=0){alert(`You can only attach up to ${N} files.`);return}const E=v.map(T=>({file:T,type:T.type,size:T.size,url:URL.createObjectURL(T),id:null,description:null}));V([...L,...E])}};window.addEventListener("paste",r);const d=m=>{m.dataTransfer.items.length>0&&(m.preventDefault(),m.stopPropagation())};return window.addEventListener("dragover",d),window.addEventListener("drop",r),()=>{window.removeEventListener("paste",r),window.removeEventListener("dragover",d),window.removeEventListener("drop",r)}},[L]);const[ct,ke]=U(!1),[ut,we]=U(!1),[dt,ht]=pe(()=>{const r=[],d=[],{contentTranslationHideLanguages:m=[]}=ce.settings;return Ie.forEach(u=>{const[B]=u;B===O||B===Y.current||B===oe||m.includes(B)?r.push(u):d.push(u)}),r.sort(([u,B],[k,v])=>u===O?-1:k===O?1:B.localeCompare(v)),d.sort(([u,B],[k,v])=>B.localeCompare(v)),[r,d]},[O]),Re=pe(()=>!!(e!=null&&e.createdAt)&&Math.floor((Date.now()-new Date(e.createdAt))/(1e3*60*60*24*30)),[e]);return t("div",{id:"compose-container-outer",children:[t("div",{id:"compose-container",class:o?"standalone":"",children:[t("div",{class:"compose-top",children:[(F==null?void 0:F.avatarStatic)&&t(At,{account:F,accountInstance:A.instanceURL,hideDisplayName:!0,useAvatarStatic:!0}),o?c&&t("button",{type:"button",class:"light pop-button",disabled:f==="loading",onClick:()=>{if(!window.opener){alert("Looks like you closed the parent window.");return}window.opener.__STATES__.showCompose&&!confirm("Looks like you already have a compose field open in the parent window. Popping in this window will discard the changes you made in the parent window. Continue?")||n({fn:()=>{const r={editStatus:a,replyToStatus:e,draftStatus:{uid:w.current,status:$.current.value,spoilerText:D.current.value,visibility:S,language:O,sensitive:P,poll:W,mediaAttachments:L}};window.opener.__COMPOSE__=r,window.opener.__STATES__.showCompose=!0}})},children:t(K,{icon:"popin",alt:"Pop in"})}):t("span",{children:[t("button",{type:"button",class:"light pop-button",disabled:f==="loading",onClick:()=>{zt({editStatus:a,replyToStatus:e,draftStatus:{uid:w.current,status:$.current.value,spoilerText:D.current.value,visibility:S,language:O,sensitive:P,poll:W,mediaAttachments:L}})&&n()},children:t(K,{icon:"popout",alt:"Pop out"})})," ",t("button",{type:"button",class:"light close-button",disabled:f==="loading",onClick:()=>{me()&&n()},children:t(K,{icon:"x"})})]})]}),!!e&&t("div",{class:"status-preview",children:[t(Ne,{status:e,size:"s",previewMode:!0}),t("div",{class:"status-preview-legend reply-to",children:["Replying to @",e.account.acct||e.account.username,"’s post",Re>=3&&t(re,{children:[" ","(",t("strong",{children:yn.format(-Re,"month")}),")"]})]})]}),!!a&&t("div",{class:"status-preview",children:[t(Ne,{status:a,size:"s",previewMode:!0}),t("div",{class:"status-preview-legend",children:"Editing source post"})]}),t("form",{ref:Be,class:`form-visibility-${S}`,style:{pointerEvents:f==="loading"?"none":"auto",opacity:f==="loading"?.5:1},onKeyDown:r=>{r.key==="Enter"&&(r.ctrlKey||r.metaKey)&&Be.current.dispatchEvent(new Event("submit",{cancelable:!0}))},onSubmit:r=>{r.preventDefault();const d=new FormData(r.target),m=Object.fromEntries(d.entries());let{status:u,visibility:B,sensitive:k,spoilerText:v}=m;if(k=k==="on",W){if(W.options.length<2){alert("Poll must have at least 2 options");return}if(W.options.some(E=>E==="")){alert("Some poll choices are empty");return}}L.length>0&&L.some(T=>{var Z,he;return!((he=(Z=T.description)==null?void 0:Z.trim)!=null&&he.call(Z))})&&!confirm("Some media have no descriptions. Continue?")||(v=k&&v||void 0,u=u===""?void 0:u,C("loading"),(async()=>{try{if(L.length>0){const Z=L.map(ie=>{const{file:ge,description:pt,id:mt}=ie;if(mt)return ie;{const gt=Qe({file:ge,description:pt});return p.v2.media.create(gt).then(Ee=>(Ee.id&&(ie.id=Ee.id),Ee))}}),he=await Promise.allSettled(Z);if(he.some(ie=>{var ge;return ie.status==="rejected"||!((ge=ie.value)!=null&&ge.id)})){C("error"),he.forEach(ie=>{ie.status==="rejected"&&alert(ie.reason||`Attachment #${i} failed`)});return}}let E={status:u,spoiler_text:v,language:O,sensitive:k,poll:W,media_ids:L.map(Z=>Z.id)};a&&nt("@mastodon/edit-media-attributes")?E.media_attributes=L.map(Z=>({id:Z.id,description:Z.description})):a||(E.visibility=B,E.in_reply_to_id=(e==null?void 0:e.id)||void 0),E=Qe(E);let T;if(a)T=await p.v1.statuses.$select(a.id).update(E),Dt(T,h,{skipThreading:!0});else try{T=await p.v1.statuses.create(E,{requestInit:{headers:{"Idempotency-Key":w.current}}})}catch{T=await p.v1.statuses.create(E)}C("default"),n({type:a?"edit":e?"reply":"post",newStatus:T,instance:h})}catch(E){alert((E==null?void 0:E.reason)||E),C("error")}})())},children:[t("div",{class:"toolbar stretch",children:[t("input",{ref:D,type:"text",name:"spoilerText",placeholder:"Content warning",disabled:f==="loading",class:"spoiler-text-field",lang:O,spellCheck:"true",dir:"auto",style:{opacity:P?1:0,pointerEvents:P?"auto":"none"},onInput:()=>{xe()}}),t("label",{class:`toolbar-button ${P?"highlight":""}`,title:"Content warning or sensitive media",children:[t("input",{name:"sensitive",type:"checkbox",checked:P,disabled:f==="loading",onChange:r=>{var m,u;const d=r.target.checked;ee(d),d?(m=D.current)==null||m.focus():(u=$.current)==null||u.focus()}}),t(K,{icon:`eye-${P?"close":"open"}`})]})," ",t("label",{class:`toolbar-button ${S!=="public"&&!P?"show-field":""} ${S!=="public"?"highlight":""}`,title:`Visibility: ${S}`,children:[t(K,{icon:Lt[S],alt:S}),t("select",{name:"visibility",value:S,onChange:r=>{G(r.target.value)},disabled:f==="loading"||!!a,children:[t("option",{value:"public",children:["Public ",t(K,{icon:"earth"})]}),t("option",{value:"unlisted",children:"Unlisted"}),t("option",{value:"private",children:"Followers only"}),t("option",{value:"direct",children:"Private mention"})]})]})," "]}),t(wn,{ref:$,placeholder:e?"Post your reply":a?"Edit your post":"What are you doing?",required:(L==null?void 0:L.length)===0,disabled:f==="loading",lang:O,onInput:()=>{xe()},maxCharacters:_,performSearch:r=>{const{type:d,q:m,limit:u}=r;return d==="accounts"?p.v1.accounts.search.list({q:m,limit:u,resolve:!1}):p.v2.search.fetch(r)}}),(L==null?void 0:L.length)>0&&t("div",{class:"media-attachments",children:[L.map((r,d)=>{const{id:m,file:u}=r,B=(u==null?void 0:u.size)+(u==null?void 0:u.type)+(u==null?void 0:u.name);return t(Fn,{attachment:r,disabled:f==="loading",lang:O,onDescriptionChange:k=>{V(v=>{const E=[...v];return E[d].description=k,E})},onRemove:()=>{V(k=>k.filter((v,E)=>E!==d))}},m||B||d)}),t("label",{class:"media-sensitive",children:[t("input",{name:"sensitive",type:"checkbox",checked:P,disabled:f==="loading",onChange:r=>{const d=r.target.checked;ee(d)}})," ",t("span",{children:"Mark media as sensitive"})," ",t(K,{icon:`eye-${P?"close":"open"}`})]})]}),!!W&&t(Cn,{lang:O,maxOptions:M,maxExpiration:q,minExpiration:Q,maxCharactersPerOption:R,poll:W,disabled:f==="loading",onInput:r=>{if(r){const d={...r};ne(d)}else ne(null)}}),t("div",{class:"toolbar wrap",style:{justifyContent:"flex-end"},children:[t("span",{children:[t("label",{class:"toolbar-button",children:[t("input",{type:"file",accept:g.join(","),multiple:L.length<N-1,disabled:f==="loading"||L.length>=N||!!W,onChange:r=>{const d=r.target.files;if(!d)return;const m=Array.from(d).map(u=>({file:u,type:u.type,size:u.size,url:URL.createObjectURL(u),id:null,description:null}));L.length+m.length>N?alert(`You can only attach up to ${N} files.`):V(u=>u.concat(m)),r.target.value=""}}),t(K,{icon:"attachment"})]})," ",M==null||M>1&&t(re,{children:[t("button",{type:"button",class:"toolbar-button",disabled:f==="loading"||!!W||!!L.length,onClick:()=>{ne({options:["",""],expiresIn:24*60*60,multiple:!1})},children:t(K,{icon:"poll",alt:"Add poll"})})," "]}),t("button",{type:"button",class:"toolbar-button",disabled:f==="loading",onClick:()=>{ke(!0)},children:t(K,{icon:"emoji2"})}),!!ce.settings.composerGIFPicker&&t("button",{type:"button",class:"toolbar-button gif-picker-button",disabled:f==="loading",onClick:()=>{we(!0)},children:t("span",{children:"GIF"})})]}),t("div",{class:"spacer"}),f==="loading"?t(Le,{abrupt:!0}):t(En,{maxCharacters:_,hidden:f==="loading"}),t("label",{class:`toolbar-button ${O!==Y.current?"highlight":""}`,children:[t("span",{class:"icon-text",children:(Pe=on[O])==null?void 0:Pe.native}),t("select",{name:"language",value:O,onChange:r=>{const{value:d}=r.target;te(d||oe),ue.session.set("currentLanguage",d||oe)},disabled:f==="loading",children:[dt.map(([r,d,m])=>t("option",{value:r,children:[d," (",m,")"]},r)),t("hr",{}),ht.map(([r,d,m])=>t("option",{value:r,children:[d," (",m,")"]},r))]})]})," ",t("button",{type:"submit",class:"large",disabled:f==="loading",children:e?"Reply":a?"Update":"Post"})]})]})]}),ct&&t(Ae,{onClick:r=>{r.target===r.currentTarget&&ke(!1)},children:t(An,{masto:p,instance:h,onClose:()=>{ke(!1)},onSelect:r=>{const d=` ${r} `,m=$.current;if(!m)return;const{selectionStart:u,selectionEnd:B}=m,k=m.value,v=k.slice(0,u)+d+k.slice(B);m.value=v,m.selectionStart=m.selectionEnd=B+d.length,m.focus(),m.dispatchEvent(new Event("input"))}})}),ut&&t(Ae,{onClick:r=>{r.target===r.currentTarget&&we(!1)},children:t(Ln,{onClose:()=>we(!1),onSelect:({url:r,type:d,alt_text:m})=>{if(L.length>=N){alert(`You can only attach up to ${N} files.`);return}(async()=>{var B,k;let u;try{u=ve({text:"Downloading GIF…",duration:-1});const v=await fetch(r,{referrerPolicy:"no-referrer"}).then(Z=>Z.blob()),E=new File([v],d==="video/mp4"?"video.mp4":"image.gif",{type:d}),T=[...L,{file:E,type:d,size:E.size,id:null,description:m||""}];V(T),(B=u==null?void 0:u.hideToast)==null||B.call(u)}catch{(k=u==null?void 0:u.hideToast)==null||k.call(u),ve("Failed to download GIF")}})()}})})]})}function Xe(n){if(!n)return;const{value:e,offsetHeight:a,scrollHeight:s,clientHeight:o}=n;if(a<window.innerHeight){const c=a-o,p=e?s+c+"px":null;n.style.height=p}}async function kn(n,e){const s=(await e.v1.customEmojis.list()).filter(c=>c.visibleInPicker),o=new bt(s,{keys:["shortcode"],findAllMatches:!0});return[s,o]}const ot=Rt(kn,{matchesArg:(n,e)=>n.instance===e.instance,maxAge:30*60*1e3}),wn=yt((n,e)=>{var N;const{masto:a,instance:s}=it(),[o,c]=U(((N=e.current)==null?void 0:N.value)||""),{maxCharacters:p,performSearch:h=()=>{},...f}=n,C=H();X(()=>{ot(s,a).then(z=>{const[g,l]=z;C.current=l}).catch(z=>{})},[]);const w=H(),A=H("");X(()=>{let z,g,l;return w.current&&(z=b=>{var R;const{key:x,provide:I,text:y}=b.detail;if(A.current=y,y===""){I(Promise.resolve({matched:!1}));return}if(x===":"){const q=(R=C.current)==null?void 0:R.search(y,{limit:5});let Q="";q.forEach(({item:$})=>{const{shortcode:D,url:S}=$;Q+=`
                <li role="option" data-value="${ae(D)}">
                <img src="${ae(S)}" width="16" height="16" alt="" loading="lazy" /> 
                ${ae(D)}
              </li>`}),se.innerHTML=Q,I(Promise.resolve({matched:q.length>0,fragment:se}));return}const M={"@":"accounts","#":"hashtags"}[x];I(new Promise(q=>{h({type:M,q:y,limit:5}).then($=>{if(y!==A.current)return;const D=$[M]||$;let S="";D.forEach(G=>{var ne;const{name:P,avatarStatic:ee,displayName:O,username:te,acct:Y,emojis:L,history:V}=G,W=It(O,L);if(Y)S+=`
                    <li role="option" data-value="${ae(Y)}">
                      <span class="avatar">
                        <img src="${ae(ee)}" width="16" height="16" alt="" loading="lazy" />
                      </span>
                      <span>
                        <b>${W||te}</b>
                        <br>@${ae(Y)}
                      </span>
                    </li>
                  `;else{const J=(ne=V==null?void 0:V.reduce)==null?void 0:ne.call(V,(de,le)=>de+ +le.uses,0);S+=`
                    <li role="option" data-value="${ae(P)}">
                      <span class="grow">#<b>${ae(P)}</b></span>
                      ${J?`<span class="count">${Bt(J)}</span>`:""}
                    </li>
                  `}se.innerHTML=S}),q({matched:D.length>0,fragment:se})})}))},w.current.addEventListener("text-expander-change",z),g=b=>{const{key:x,item:I}=b.detail;x===":"?b.detail.value=`:${I.dataset.value}:`:b.detail.value=`${x}${I.dataset.value}`},w.current.addEventListener("text-expander-value",g),l=b=>{const{input:x}=b.detail;if(c(x.value),e.current){const I=new Event("input",{bubbles:!0});e.current.dispatchEvent(I)}},w.current.addEventListener("text-expander-committed",l)),()=>{w.current&&(w.current.removeEventListener("text-expander-change",z),w.current.removeEventListener("text-expander-value",g),w.current.removeEventListener("text-expander-committed",l))}},[]),X(()=>{const z=e.current;if(!z)return;new ResizeObserver(()=>{if(w.current){const{height:l}=z.getBoundingClientRect();w.current.style.height=l+"px"}}).observe(z)},[]);const F=H(0),j=H(),_=xt(z=>{var b;if(!j.current)return;if(F.current>3){j.current.innerHTML="",j.current=null,(b=_==null?void 0:_.cancel)==null||b.call(_);return}let g,l;F.current<=3&&(g=Date.now()),j.current.innerHTML=xn(z,{maxCharacters:p})+`
`,F.current<=3&&(l=Date.now()),g&&l&&l-g>50&&F.current++},500);return t("text-expander",{ref:w,keys:"@ # :",class:"compose-field-container",children:[t("textarea",{class:"compose-field",autoCapitalize:"sentences",autoComplete:"on",autoCorrect:"on",spellCheck:"true",dir:"auto",rows:"6",cols:"50",...f,ref:e,name:"status",value:o,onKeyDown:z=>{const{key:g,target:l}=z;if(g==="Enter"&&!(z.ctrlKey||z.metaKey))try{const{value:b,selectionStart:x}=l,y=b.slice(0,x).split(`
`).slice(-1)[0];if(y&&/^\s*(-|\d+\.)\s/.test(y)){const[M,R,q,Q,$]=y.match(/^(\s*)(-|\d+\.)(\s+)(.+)?/)||[];if($){z.preventDefault();const[D]=q.match(/\d+/)||[],S=D?`${+D+1}.`:"-",G=`
${R}${S}${Q}`;l.setRangeText(G,x,x);const P=x+G.length;l.setSelectionRange(P,P)}else{const D=x-y.length;l.setRangeText("",D,x)}Xe(l),l.dispatchEvent(new Event("input"))}}catch{}j.current&&(j.current.scrollTop=l.scrollTop)},onInput:z=>{var b;const{target:g}=z,l=g.value;c(l),Xe(g),(b=n.onInput)==null||b.call(n,z),_(l)},style:{width:"100%",height:"4em"},onScroll:z=>{if(j.current){const{scrollTop:g}=z.target;j.current.scrollTop=g}}}),t("div",{ref:j,class:"compose-highlight","aria-hidden":"true"})]})});function En({maxCharacters:n=500,hidden:e}){const s=kt(ce).composerCharacterCount,o=n-s;return e?t("span",{class:"char-counter",hidden:!0}):t("span",{class:"char-counter",title:`${o}/${n}`,style:{"--percentage":s/n*100},children:[t("meter",{class:`${o<=-10?"explode":o<=0?"danger":o<=20?"warning":""}`,value:s,max:n}),t("span",{class:"counter",children:o})]})}function Fn({attachment:n,disabled:e,lang:a,onDescriptionChange:s=()=>{},onRemove:o=()=>{}}){const[c,p]=U("default"),h=nt("@mastodon/edit-media-attributes"),{type:f,id:C,file:w}=n,A=pe(()=>w?URL.createObjectURL(w):n.url,[w,n.url]),[F,j]=U(n.description),[_,N]=f.split("/"),z=et(s,250);X(()=>{z(F)},[F,z]);const[g,l]=U(!1),b=H(null);X(()=>{let y;return g&&b.current&&(y=setTimeout(()=>{b.current.focus()},100)),()=>{clearTimeout(y)}},[g]);const x=t(re,{children:C&&!h?t("div",{class:"media-desc",children:[t("span",{class:"tag",children:"Uploaded"}),t("p",{title:F,children:n.description||t("i",{children:"No description"})})]}):t("textarea",{ref:b,value:F||"",lang:a,placeholder:{image:"Image description",video:"Video description",audio:"Audio description"}[_],autoCapitalize:"sentences",autoComplete:"on",autoCorrect:"on",spellCheck:"true",dir:"auto",disabled:e||c==="loading",class:c==="loading"?"loading":"",maxlength:"1500",onInput:y=>{const{value:M}=y.target;j(M)}})}),I=H(null);return X(()=>()=>{var y,M;(M=(y=I.current)==null?void 0:y.hideToast)==null||M.call(y)},[]),t(re,{children:[t("div",{class:"media-attachment",children:[t("div",{class:"media-preview",tabIndex:"0",onClick:()=>{l(!0)},children:_==="image"?t("img",{src:A,alt:""}):_==="video"||_==="gifv"?t("video",{src:A,playsinline:!0,muted:!0}):_==="audio"?t("audio",{src:A,controls:!0}):null}),x,t("div",{class:"media-aside",children:t("button",{type:"button",class:"plain close-button",disabled:e,onClick:o,children:t(K,{icon:"x"})})})]}),g&&t(Ae,{onClick:y=>{y.target===y.currentTarget&&l(!1)},children:t("div",{id:"media-sheet",class:"sheet sheet-max",children:[t("button",{type:"button",class:"sheet-close",onClick:()=>{l(!1)},children:t(K,{icon:"x"})}),t("header",{children:t("h2",{children:{image:"Edit image description",video:"Edit video description",audio:"Edit audio description"}[_]})}),t("main",{tabIndex:"-1",children:[t("div",{class:"media-preview",children:_==="image"?t("img",{src:A,alt:""}):_==="video"||_==="gifv"?t("video",{src:A,playsinline:!0,controls:!0}):_==="audio"?t("audio",{src:A,controls:!0}):null}),t("div",{class:"media-form",children:[x,t("footer",{children:[_==="image"&&/^(png|jpe?g|gif|webp)$/i.test(N)&&!!ce.settings.mediaAltGenerator&&!!Ye&&t(_t,{portal:{target:document.body},containerProps:{style:{zIndex:1001}},align:"center",position:"anchor",overflow:"auto",menuButton:t("button",{type:"button",title:"More",class:"plain",children:t(K,{icon:"more",size:"l",alt:"More"})}),children:t(wt,{disabled:c==="loading",onClick:()=>{p("loading"),I.current=ve({text:"Generating description. Please wait...",duration:-1}),async function(){var y,M;try{const R=new FormData;R.append("image",w);const q=await fetch(Ye,{method:"POST",body:R}).then(Q=>Q.json());if(q.error)throw new Error(q.error);j(q.description)}catch(R){ve(`Failed to generate description${R!=null&&R.message?`: ${R.message}`:""}`)}finally{p("default"),(M=(y=I.current)==null?void 0:y.hideToast)==null||M.call(y)}}()},children:[t(K,{icon:"sparkles2"}),t("span",{children:"Generate description…"})]})}),t("button",{type:"button",class:"light block",onClick:()=>{l(!1)},disabled:c==="loading",children:"Done"})]})]})]})]})})]})}function Cn({lang:n,poll:e,disabled:a,onInput:s=()=>{},maxOptions:o,maxExpiration:c,minExpiration:p,maxCharactersPerOption:h}){const{options:f,expiresIn:C,multiple:w}=e;return t("div",{class:`poll ${w?"multiple":""}`,children:[t("div",{class:"poll-choices",children:f.map((A,F)=>t("div",{class:"poll-choice",children:[t("input",{required:!0,type:"text",value:A,disabled:a,maxlength:h,placeholder:`Choice ${F+1}`,lang:n,spellCheck:"true",dir:"auto",onInput:j=>{const{value:_}=j.target;f[F]=_,s(e)}}),t("button",{type:"button",class:"plain2 poll-button",disabled:a||f.length<=1,onClick:()=>{f.splice(F,1),s(e)},children:t(K,{icon:"x",size:"s"})})]},F))}),t("div",{class:"poll-toolbar",children:[t("button",{type:"button",class:"plain2 poll-button",disabled:a||f.length>=o,onClick:()=>{f.push(""),s(e)},children:"+"})," ",t("label",{class:"multiple-choices",children:[t("input",{type:"checkbox",checked:w,disabled:a,onChange:A=>{const{checked:F}=A.target;e.multiple=F,s(e)}})," ","Multiple choices"]}),t("label",{class:"expires-in",children:["Duration"," ",t("select",{value:C,disabled:a,onChange:A=>{const{value:F}=A.target;e.expiresIn=F,s(e)},children:Object.entries(at).filter(([A,F])=>F>=p&&F<=c).map(([A,F])=>t("option",{value:F,children:A},F))})]})]}),t("div",{class:"poll-toolbar",children:t("button",{type:"button",class:"plain remove-poll-button",disabled:a,onClick:()=>{s(null)},children:"Remove poll"})})]})}function ae(n){return n.replace(/[&<>"']/g,function(e){return"&#"+e.charCodeAt(0)+";"})}function Qe(n){for(let e in n)(n[e]===null||n[e]===void 0)&&delete n[e];return n}function An({masto:n,instance:e,onClose:a=()=>{},onSelect:s=()=>{}}){const[o,c]=U("default"),p=H([]),[h,f]=U([]),C=pe(()=>ue.account.get("recentlyUsedCustomEmojis")||[]),w=H();X(()=>{c("loading"),(async()=>{try{const[g,l]=await ot(e,n);w.current=l,f(g),c("default")}catch{c("error")}})()},[]);const A=pe(()=>{const g={"--recent--":C.filter(b=>h.find(x=>x.shortcode===b.shortcode))},l=[];return h.forEach(b=>{var x,I;if((I=(x=p.current)==null?void 0:x.push)==null||I.call(x,b),!b.category){l.push(b);return}g[b.category]||(g[b.category]=[]),g[b.category].push(b)}),l.length&&(g["--others--"]=l),g},[h]),F=H(),[j,_]=U(null),N=Se(g=>{var b,x,I;const{value:l}=g.target;if(l){const y=(b=w.current)==null?void 0:b.search(l,{limit:ze});_(y.map(M=>M.item)),(I=(x=F.current)==null?void 0:x.scrollTo)==null||I.call(x,0,0)}else _(null)},[h]),z=Se(g=>{s==null||s(g),a==null||a(),queueMicrotask(()=>{let l=ue.account.get("recentlyUsedCustomEmojis")||[];const b=l.findIndex(x=>x.shortcode===g.shortcode);b!==-1?(l.splice(b,1),l.unshift(g)):(l.unshift(g),l=l.filter(x=>{var I,y;return(y=(I=p.current)==null?void 0:I.find)==null?void 0:y.call(I,M=>M.shortcode===x.shortcode)}),l=l.slice(0,10)),ue.account.set("recentlyUsedCustomEmojis",l)})},[s]);return t("div",{id:"custom-emojis-sheet",class:"sheet",children:[!!a&&t("button",{type:"button",class:"sheet-close",onClick:a,children:t(K,{icon:"x"})}),t("header",{children:[t("div",{children:[t("b",{children:"Custom emojis"})," ",o==="loading"?t(Le,{}):t("small",{class:"insignificant",children:[" • ",e]})]}),t("form",{onSubmit:g=>{g.preventDefault();const l=j[0];l&&z(`:${l.shortcode}:`)},children:t("input",{type:"search",placeholder:"Search emoji",onInput:N,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellCheck:"false",dir:"auto"})})]}),t("main",{ref:F,children:j!==null?t("ul",{class:"custom-emojis-matches custom-emojis-list",children:j.map(g=>t("li",{class:"custom-emojis-match",children:t(rt,{emoji:g,onClick:()=>{z(`:${g.shortcode}:`)},showCode:!0})},g.shortcode))}):t("div",{class:"custom-emojis-list",children:[o==="error"&&t("div",{class:"ui-state",children:t("p",{children:"Error loading custom emojis"})}),o==="default"&&Object.entries(A).map(([g,l])=>!!(l!=null&&l.length)&&t(re,{children:[t("div",{class:"section-header",children:{"--recent--":"Recently used","--others--":"Others"}[g]||g}),t(zn,{emojis:l,onSelect:z})]}))]})})]})}const zn=tt(({emojis:n,onSelect:e})=>{const[a,s]=U(ze),o=n.length>a;return t("section",{children:[n.slice(0,a).map(c=>t(rt,{emoji:c,onClick:()=>{e(`:${c.shortcode}:`)}},c.shortcode)),o&&t("button",{type:"button",class:"plain small",onClick:()=>s(a+ze),children:[(n.length-a).toLocaleString()," more…"]})]})}),rt=tt(({emoji:n,onClick:e,showCode:a})=>{const s=o=>{const p=o.currentTarget.closest("main");if(p){const h=p.getBoundingClientRect(),f=o.currentTarget.getBoundingClientRect(),C=o.currentTarget.classList;f.left<h.left+88?(C.add("edge-left"),C.remove("edge-right")):f.right>h.right-88?(C.add("edge-right"),C.remove("edge-left")):C.remove("edge-left","edge-right")}};return t("button",{type:"button",className:"plain4",onClick:e,"data-title":a?void 0:n.shortcode,onPointerEnter:s,onFocus:s,children:[t("picture",{children:[!!n.staticUrl&&t("source",{srcSet:n.staticUrl,media:"(prefers-reduced-motion: reduce)"}),t("img",{className:"shortcode-emoji",src:n.url||n.staticUrl,alt:n.shortcode,width:"24",height:"24",loading:"lazy",decoding:"async"})]}),a&&t(re,{children:[" ",t("code",{children:n.shortcode})]})]})}),Ce=20;function Ln({onClose:n=()=>{},onSelect:e=()=>{}}){var F,j,_,N,z,g;const[a,s]=U("default"),[o,c]=U([]),p=H(null),h=H(null),f=H(0),C=H(null);function w({offset:l}){var b,x,I;(b=h.current)!=null&&b.value&&(s("loading"),(I=(x=C.current)==null?void 0:x.scrollTo)==null||I.call(x,{top:0,left:0,behavior:"smooth"}),(async()=>{var y;try{const M={api_key:sn,q:h.current.value,rating:"g",limit:Ce,bundle:"messaging_non_clips",offset:l},R=await fetch("https://api.giphy.com/v1/gifs/search?"+new URLSearchParams(M),{referrerPolicy:"no-referrer"}).then(q=>q.json());f.current=((y=R.pagination)==null?void 0:y.offset)||0,c(R),s("results")}catch{s("error")}})())}X(()=>{var l;(l=h.current)==null||l.focus()},[]);const A=et(()=>{w({offset:0})},1e3);return t("div",{id:"gif-picker-sheet",class:"sheet",children:[!!n&&t("button",{type:"button",class:"sheet-close",onClick:n,children:t(K,{icon:"x"})}),t("header",{children:t("form",{ref:p,onSubmit:l=>{l.preventDefault(),w({offset:0})},children:[t("input",{ref:h,type:"search",name:"q",placeholder:"Search GIFs",required:!0,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellCheck:"false",dir:"auto",onInput:A}),t("input",{type:"image",class:"powered-button",src:en,width:"86",height:"30"})]})}),t("main",{ref:C,class:a==="loading"?"loading":"",children:[a==="default"&&t("div",{class:"ui-state",children:t("p",{class:"insignificant",children:"Type to search GIFs"})}),a==="loading"&&!((F=o==null?void 0:o.data)!=null&&F.length)&&t("div",{class:"ui-state",children:t(Le,{abrupt:!0})}),((j=o==null?void 0:o.data)==null?void 0:j.length)>0?t(re,{children:[t("ul",{children:o.data.map(l=>{const{id:b,images:x,title:I,alt_text:y}=l,{fixed_height_small:M,fixed_height_downsampled:R,fixed_height:q,original:Q}=x,$=M!=null&&M.url?M:R!=null&&R.url?R:q;let{url:D,webp:S,width:G,height:P}=$;+P>100&&(G=G/P*100,P=100);const ee=new URL(D),O=ee.origin+ee.pathname;let te;if(S){const Y=new URL(S);te=Y.origin+Y.pathname}return t("li",{children:t("button",{type:"button",onClick:()=>{const{mp4:Y,url:L}=Q,V=Y||L,W=new URL(V),ne=W.origin+W.pathname;n(),e({url:ne,type:Y?"video/mp4":"image/gif",alt_text:y||I})},children:t("figure",{style:{"--figure-width":G+"px"},children:[t("picture",{children:[te&&t("source",{srcset:te,type:"image/webp"}),t("img",{src:O,width:G,height:P,loading:"lazy",decoding:"async",alt:y,referrerpolicy:"no-referrer",onLoad:Y=>{Y.target.style.backgroundColor="transparent"}})]}),t("figcaption",{children:y||I})]})})},b)})}),t("p",{class:"pagination",children:[((_=o.pagination)==null?void 0:_.offset)>0&&t("button",{type:"button",class:"light small",disabled:a==="loading",onClick:()=>{var l;w({offset:((l=o.pagination)==null?void 0:l.offset)-Ce})},children:[t(K,{icon:"chevron-left"}),t("span",{children:"Previous"})]}),t("span",{}),((N=o.pagination)==null?void 0:N.offset)+((z=o.pagination)==null?void 0:z.count)<((g=o.pagination)==null?void 0:g.total_count)&&t("button",{type:"button",class:"light small",disabled:a==="loading",onClick:()=>{var l;w({offset:((l=o.pagination)==null?void 0:l.offset)+Ce})},children:[t("span",{children:"Next"})," ",t(K,{icon:"chevron-right"})]})]})]}):a==="results"&&t("div",{class:"ui-state",children:t("p",{children:"No results"})}),a==="error"&&t("div",{class:"ui-state",children:t("p",{children:"Error loading GIFs"})})]})]})}export{Mn as default};
//# sourceMappingURL=compose-TD49JCHg.js.map
